@function map-deep-get($map, $keys...) {
  @each $key in $keys {
      $map: map-get($map, $key);
  }
  @return $map;
}

// function like mixins, functions always first

@mixin create-classes($map, $prefix: '__', $separator: '--') {
  @each $key, $value in $map {
    &#{if(type-of($value) == 'map' and 
      $key != 'hover' and $key != 'focus' and $key != 'disabled' and $key != 'active', 
      #{$prefix}#{$key}, '')} {
      @if type-of($value) == 'map' {
        @if $key == 'hover' or $key == 'focus' or $key == 'disabled' or $key == 'active' {
          &:#{$key} {
            @include create-classes($value, $separator);
          }
        }
        @else {
          @include create-classes($value, $separator);
        }
      }
      @else {
        #{$key}: $value;
      }
    }
  }
}

// these will need to be worked on to make sure they are more efficient

@mixin color-modifiers($attribute: 'color', $prefix: '-', $separator: '-') {
  @each $name, $color in $colors {
    &#{$prefix}#{$name} {
      @each $tone, $hex in $color {
        &#{$tone} {
          #{$attribute}: $hex;
        }
      }
    }
  }
}

@mixin create-colorstates-utl($mainMapName: 'alertStates', $prefix: '__', $separator: '--') {
  @each $colorStateName, $colorStateChild in $mainMapName {
    &#{$prefix}#{$colorStateName} {
      @each $attribute, $color in $colorStateChild {
        @if $attribute != 'background-color' {
          #{$attribute}: $color;
        }
        @else {
          &#{$separator}#{$attribute} {
            #{$attribute}: $color;
          }
        }
      }
    }
  }
}
